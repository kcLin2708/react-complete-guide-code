{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\tws80\\\\Documents\\\\React\\\\react-complete-guide-code\\\\code\\\\04-onwards-to-a-more-realistic-example\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\tws80\\\\Documents\\\\React\\\\react-complete-guide-code\\\\code\\\\04-onwards-to-a-more-realistic-example\\\\src\\\\App.js\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport Tasks from \"./components/Tasks/Tasks\";\nimport NewTask from \"./components/NewTask/NewTask\";\nimport useHttp from \"./components/hooks/use-http\";\nfunction App() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    tasks = _useState2[0],\n    setTasks = _useState2[1];\n  var transformTasks = useCallback(function (taskObj) {\n    var loadedTasks = [];\n    for (var taskKey in taskObj) {\n      loadedTasks.push({\n        id: taskKey,\n        text: taskObj[taskKey].text\n      });\n    }\n    setTasks(loadedTasks);\n  }, []);\n  var httpData = useHttp(transformTasks);\n  var isLoading = httpData.isLoading,\n    error = httpData.error,\n    fetchTasks = httpData.sendRequest;\n  useEffect(function () {\n    fetchTasks({\n      url: \"https://react-custom-hook-e1dad-default-rtdb.europe-west1.firebasedatabase.app/tasks.json\"\n    }, transformTasks);\n  }, []);\n  var taskAddHandler = function taskAddHandler(task) {\n    setTasks(function (prevTasks) {\n      return prevTasks.concat(task);\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NewTask, {\n    onAddTask: taskAddHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Tasks, {\n    items: tasks,\n    loading: isLoading,\n    error: error,\n    onFetch: fetchTasks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }));\n}\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","useCallback","Tasks","NewTask","useHttp","App","_useState","_useState2","_slicedToArray","tasks","setTasks","transformTasks","taskObj","loadedTasks","taskKey","push","id","text","httpData","isLoading","error","fetchTasks","sendRequest","url","taskAddHandler","task","prevTasks","concat","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onAddTask","items","loading","onFetch"],"sources":["C:/Users/tws80/Documents/React/react-complete-guide-code/code/04-onwards-to-a-more-realistic-example/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\n\r\nimport Tasks from \"./components/Tasks/Tasks\";\r\nimport NewTask from \"./components/NewTask/NewTask\";\r\nimport useHttp from \"./components/hooks/use-http\";\r\n\r\nfunction App() {\r\n  const [tasks, setTasks] = useState([]);\r\n\r\n  const transformTasks = useCallback((taskObj) => {\r\n    const loadedTasks = [];\r\n\r\n    for (const taskKey in taskObj) {\r\n      loadedTasks.push({ id: taskKey, text: taskObj[taskKey].text });\r\n    }\r\n\r\n    setTasks(loadedTasks);\r\n  }, []);\r\n\r\n  const httpData = useHttp(transformTasks);\r\n\r\n  const { isLoading, error, sendRequest: fetchTasks } = httpData;\r\n\r\n  useEffect(() => {\r\n    fetchTasks(\r\n      {\r\n        url:\r\n          \"https://react-custom-hook-e1dad-default-rtdb.europe-west1.firebasedatabase.app/tasks.json\",\r\n      },\r\n      transformTasks\r\n    );\r\n  }, []);\r\n\r\n  const taskAddHandler = (task) => {\r\n    setTasks((prevTasks) => prevTasks.concat(task));\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <NewTask onAddTask={taskAddHandler} />\r\n      <Tasks\r\n        items={tasks}\r\n        loading={isLoading}\r\n        error={error}\r\n        onFetch={fetchTasks}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAE/D,OAAOC,KAAK,MAAM,0BAA0B;AAC5C,OAAOC,OAAO,MAAM,8BAA8B;AAClD,OAAOC,OAAO,MAAM,6BAA6B;AAEjD,SAASC,GAAGA,CAAA,EAAG;EAAA,IAAAC,SAAA,GACaN,QAAQ,CAAC,EAAE,CAAC;IAAAO,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EAEtB,IAAMI,cAAc,GAAGV,WAAW,CAAC,UAACW,OAAO,EAAK;IAC9C,IAAMC,WAAW,GAAG,EAAE;IAEtB,KAAK,IAAMC,OAAO,IAAIF,OAAO,EAAE;MAC7BC,WAAW,CAACE,IAAI,CAAC;QAAEC,EAAE,EAAEF,OAAO;QAAEG,IAAI,EAAEL,OAAO,CAACE,OAAO,CAAC,CAACG;MAAK,CAAC,CAAC;IAChE;IAEAP,QAAQ,CAACG,WAAW,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMK,QAAQ,GAAGd,OAAO,CAACO,cAAc,CAAC;EAAC,IAEjCQ,SAAS,GAAqCD,QAAQ,CAAtDC,SAAS;IAAEC,KAAK,GAA8BF,QAAQ,CAA3CE,KAAK;IAAeC,UAAU,GAAKH,QAAQ,CAApCI,WAAW;EAErCvB,SAAS,CAAC,YAAM;IACdsB,UAAU,CACR;MACEE,GAAG,EACD;IACJ,CAAC,EACDZ,cACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMa,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,IAAI,EAAK;IAC/Bf,QAAQ,CAAC,UAACgB,SAAS;MAAA,OAAKA,SAAS,CAACC,MAAM,CAACF,IAAI,CAAC;IAAA,EAAC;EACjD,CAAC;EAED,oBACE3B,KAAA,CAAA8B,aAAA,CAAC9B,KAAK,CAAC+B,QAAQ;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACbrC,KAAA,CAAA8B,aAAA,CAACzB,OAAO;IAACiC,SAAS,EAAEZ,cAAe;IAAAM,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACtCrC,KAAA,CAAA8B,aAAA,CAAC1B,KAAK;IACJmC,KAAK,EAAE5B,KAAM;IACb6B,OAAO,EAAEnB,SAAU;IACnBC,KAAK,EAAEA,KAAM;IACbmB,OAAO,EAAElB,UAAW;IAAAS,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACrB,CACa,CAAC;AAErB;AAEA,eAAe9B,GAAG"},"metadata":{},"sourceType":"module"}